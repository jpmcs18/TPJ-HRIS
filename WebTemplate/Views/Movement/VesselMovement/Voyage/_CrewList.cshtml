@model List<ProcessLayer.Entities.VesselMovementCrews>
@using WebTemplate.Extension

@{
    var credential = (Session["CredentialPages"] as DataAccessLayer.Security.CredentialPages);
    var PageAccess = credential.GetPage("Movement/VesselMovement") ?? new DataAccessLayer.System.Page();
}

<form>
    <fieldset>
        <legend>Voyage Crews</legend>
        <div class="table-responsive" style="max-height: 420px; overflow-y: auto; margin-bottom: 0">
            <table id="VoyageCrewsTable" class="table table-stripped table-bordered" style="margin-bottom: 0px;">
                <thead>
                    <tr>
                        <th>Seq No.</th>
                        <th>Rank</th>
                        <th>Destination</th>
                        <th>Employee No</th>
                        <th>Employee</th>
                        @*<th>Department</th>
                            <th>Position</th><th>Basic Rate</th>
                            <th>Date Embarked</th>
                            <th>Date Disembarked</th>*@
                        @*<th>Daily Rate</th>
                            <th>Remarks</th>*@
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="VoyageCrewDiv">
                    <tr id="Row-Loading-Display" class="hidden">
                        <td style="text-align: center;" colspan="10">
                            <i id="" class="fa fa-rotate-left rotate" style="padding: 8px; font-size: 20px; text-align: right;"></i>
                        </td>
                    </tr>
                    @if (Model.Count > 0)
                    {
                        foreach (var crew in Model)
                        {
                            <tr id="@crew.Personnel.ID" class="crew Crew-@crew.Personnel.ID">
                                <td></td>
                                <td></td>
                                <td></td>
                                <td>@crew.Personnel.EmployeeNo</td>
                                <td>
                                    @crew.Personnel.FullName
                                    @*@crew.Department.Description*@
                                    @*@crew.Department.ShortDescription
                                        @crew.Department.Office*@
                                    @(crew.Position.CheckIfNull().Description ?? "")
                                    @*@crew.Position.Display
                                        @crew.Position.FullDisplay*@
                                </td>
                                @*<td>@crew.BasicRate.Value.ToString("#,###.00##")</td>
                                    <td>@crew.DateEmbarked.CheckIfNull().ToString("MMM dd, yyyy")</td>
                                    <td>@crew.DateDisembarked.CheckIfNull().ToString("MMM dd, yyyy")</td>*@
                                @*<td>@crew.DailyRate.ToString("#,###.00##")</td>
                                    <td>@crew.Remarks</td>*@
                                <td style="text-align: center;">
                                    @if (PageAccess.View)
                                    {
                                        <button type="button" name="AddRemoveCrew" class="btn btn-outline btn-info btn-sm btn-rounded AddRemoveCrew" value="@crew.ID" title="Add as approver"><i class="fa fa-plus"></i></button>
                                        <button type="button" name="UndoRemoveCrew" class="btn btn-default btn-sm btn-rounded UndoRemoveCrew hidden" value="@crew.ID" title="Undo remove as approver"><i class="fa fa-undo"></i></button>
                                    }
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr id="No-Row-Display"><td class="text-center" colspan="10">No Crews yet...</td></tr>
                    }
                </tbody>
            </table>
        </div>
    </fieldset>
</form>